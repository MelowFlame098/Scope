(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[489],{7609:function(e,t,s){Promise.resolve().then(s.bind(s,5731))},5731:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return HubPage}});var a=s(7437),i=s(2265),r=s(5255),n=s(4020),o=s(6689),c=s(260),l=s(8682),d=s(9115),m=s(4810),g=s(4337);let x="http://localhost:8000",h="ws://localhost:8000/ws",u=(0,d.U)()((0,m.mW)((0,m.tJ)((e,t)=>({activeView:"dashboard",selectedAssets:[],selectedModels:[],isLoading:!1,error:null,assets:[{id:"btc-usd",symbol:"BTC",name:"Bitcoin",category:"crypto",price:43250.5,change24h:2.45,volume:285e8,marketCap:847e9,lastUpdated:new Date().toISOString()},{id:"eth-usd",symbol:"ETH",name:"Ethereum",category:"crypto",price:2650.75,change24h:-1.23,volume:152e8,marketCap:318e9,lastUpdated:new Date().toISOString()},{id:"aapl",symbol:"AAPL",name:"Apple Inc.",category:"stocks",price:185.92,change24h:.87,volume:52e6,marketCap:29e11,lastUpdated:new Date().toISOString()}],models:[{id:"crypto_s2f",name:"Stock-to-Flow (S2F)",category:"crypto",type:"fundamental",description:"Bitcoin scarcity model based on stock-to-flow ratio",accuracy:85.2,lastRun:new Date(Date.now()-18e5).toISOString(),isActive:!0,status:"idle"},{id:"crypto_metcalfe",name:"Metcalfe's Law",category:"crypto",type:"fundamental",description:"Network value analysis based on active addresses",accuracy:72.8,lastRun:new Date(Date.now()-24e5).toISOString(),isActive:!0,status:"idle"},{id:"crypto_nvt",name:"NVT / NVM",category:"crypto",type:"fundamental",description:"Network value to transactions ratio analysis",accuracy:68.5,lastRun:new Date(Date.now()-36e5).toISOString(),isActive:!0,status:"idle"},{id:"crypto_finbert",name:"FinBERT / CryptoBERT",category:"crypto",type:"sentiment",description:"NLP sentiment analysis for crypto markets",accuracy:76.3,lastRun:new Date(Date.now()-12e5).toISOString(),isActive:!0,status:"idle"},{id:"crypto_rl",name:"Reinforcement Learning",category:"crypto",type:"ml",description:"Adaptive trading strategies using RL algorithms",accuracy:82.1,lastRun:new Date(Date.now()-9e5).toISOString(),isActive:!0,status:"idle"},{id:"stock_dcf",name:"DCF Model",category:"stocks",type:"fundamental",description:"Discounted Cash Flow valuation model",accuracy:74.6,lastRun:new Date(Date.now()-72e5).toISOString(),isActive:!0,status:"idle"},{id:"stock_capm",name:"CAPM",category:"stocks",type:"fundamental",description:"Capital Asset Pricing Model for risk assessment",accuracy:69.8,lastRun:new Date(Date.now()-54e5).toISOString(),isActive:!0,status:"idle"},{id:"stock_lstm",name:"LSTM Neural Network",category:"stocks",type:"ml",description:"Long Short-Term Memory network for stock prediction",accuracy:78.5,lastRun:new Date(Date.now()-36e5).toISOString(),isActive:!0,status:"idle"},{id:"stock_xgboost",name:"XGBoost",category:"stocks",type:"ml",description:"Gradient boosting for stock price prediction",accuracy:81.2,lastRun:new Date(Date.now()-27e5).toISOString(),isActive:!0,status:"idle"},{id:"forex_ppp",name:"Purchasing Power Parity",category:"forex",type:"fundamental",description:"PPP model for currency valuation",accuracy:65.4,lastRun:new Date(Date.now()-48e5).toISOString(),isActive:!0,status:"idle"},{id:"forex_lstm",name:"LSTM for Forex",category:"forex",type:"ml",description:"Deep learning model for currency pair prediction",accuracy:73.7,lastRun:new Date(Date.now()-18e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_rsi",name:"RSI Momentum",category:"cross-asset",type:"technical",description:"Relative Strength Index based momentum analysis",accuracy:65.2,lastRun:new Date(Date.now()-72e5).toISOString(),isActive:!0,status:"completed"},{id:"sentiment-analyzer",name:"News Sentiment Analyzer",category:"cross-asset",type:"sentiment",description:"AI-powered sentiment analysis from news and social media",accuracy:72.8,lastRun:new Date(Date.now()-18e5).toISOString(),isActive:!0,status:"running"},{id:"cross_arima",name:"ARIMA",category:"cross-asset",type:"statistical",description:"Autoregressive Integrated Moving Average model",accuracy:71.4,lastRun:new Date(Date.now()-54e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_garch",name:"GARCH",category:"cross-asset",type:"statistical",description:"Generalized Autoregressive Conditional Heteroskedasticity",accuracy:69.8,lastRun:new Date(Date.now()-42e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_transformer",name:"Transformer",category:"cross-asset",type:"ml",description:"Attention-based neural network for time series",accuracy:84.7,lastRun:new Date(Date.now()-18e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_lightgbm",name:"LightGBM",category:"cross-asset",type:"ml",description:"Gradient boosting framework for machine learning",accuracy:79.3,lastRun:new Date(Date.now()-27e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_macd",name:"MACD",category:"cross-asset",type:"technical",description:"Moving Average Convergence Divergence indicator",accuracy:62.8,lastRun:new Date(Date.now()-63e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_ichimoku",name:"Ichimoku",category:"cross-asset",type:"technical",description:"Ichimoku Kinko Hyo comprehensive indicator",accuracy:67.5,lastRun:new Date(Date.now()-39e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_ppo",name:"PPO (RL)",category:"cross-asset",type:"ml",description:"Proximal Policy Optimization reinforcement learning",accuracy:80.6,lastRun:new Date(Date.now()-21e5).toISOString(),isActive:!0,status:"idle"},{id:"cross_markowitz",name:"Markowitz MPT",category:"cross-asset",type:"fundamental",description:"Modern Portfolio Theory optimization",accuracy:73.2,lastRun:new Date(Date.now()-48e5).toISOString(),isActive:!0,status:"idle"},{id:"futures_carry",name:"Cost-of-Carry Model",category:"futures",type:"fundamental",description:"Futures pricing based on cost of carry",accuracy:76.8,lastRun:new Date(Date.now()-36e5).toISOString(),isActive:!0,status:"idle"},{id:"futures_convenience",name:"Convenience Yield",category:"futures",type:"fundamental",description:"Commodity futures convenience yield model",accuracy:68.4,lastRun:new Date(Date.now()-54e5).toISOString(),isActive:!0,status:"idle"},{id:"futures_samuelson",name:"Samuelson Effect",category:"futures",type:"fundamental",description:"Volatility increase as expiration approaches",accuracy:71.6,lastRun:new Date(Date.now()-42e5).toISOString(),isActive:!0,status:"idle"},{id:"futures_rl",name:"RL (SAC)",category:"futures",type:"ml",description:"Soft Actor-Critic reinforcement learning",accuracy:78.9,lastRun:new Date(Date.now()-18e5).toISOString(),isActive:!0,status:"idle"},{id:"index_apt",name:"Arbitrage Pricing Theory",category:"indexes",type:"fundamental",description:"Multi-factor asset pricing model",accuracy:72.3,lastRun:new Date(Date.now()-63e5).toISOString(),isActive:!0,status:"idle"},{id:"index_ddm",name:"Dividend Discount Model",category:"indexes",type:"fundamental",description:"Index valuation based on dividend streams",accuracy:69.7,lastRun:new Date(Date.now()-72e5).toISOString(),isActive:!0,status:"idle"},{id:"index_kalman",name:"Kalman Filters",category:"indexes",type:"statistical",description:"State-space model for dynamic estimation",accuracy:75.8,lastRun:new Date(Date.now()-36e5).toISOString(),isActive:!0,status:"idle"},{id:"index_vecm",name:"VECM",category:"indexes",type:"statistical",description:"Vector Error Correction Model for cointegration",accuracy:73.5,lastRun:new Date(Date.now()-48e5).toISOString(),isActive:!0,status:"idle"},{id:"index_elliott",name:"Elliott Wave",category:"indexes",type:"technical",description:"Elliott Wave pattern recognition",accuracy:58.9,lastRun:new Date(Date.now()-81e5).toISOString(),isActive:!1,status:"idle"}],news:[],forumPosts:[],user:null,chartData:{},modelPredictions:[],aiInsights:[],watchlist:[{id:"btc-usd",symbol:"BTC",name:"Bitcoin",category:"crypto",price:43250.5,change24h:2.45,volume:285e8,marketCap:847e9,lastUpdated:new Date().toISOString(),isFavorite:!0},{id:"eth-usd",symbol:"ETH",name:"Ethereum",category:"crypto",price:2650.75,change24h:-1.23,volume:152e8,marketCap:318e9,lastUpdated:new Date().toISOString(),isFavorite:!1},{id:"aapl",symbol:"AAPL",name:"Apple Inc.",category:"stocks",price:185.92,change24h:.87,volume:52e6,marketCap:29e11,lastUpdated:new Date().toISOString(),isFavorite:!0}],notifications:[],socket:null,isConnected:!1,searchQuery:"",newsFilters:{category:"all",sentiment:"all",dateRange:"24h"},assetFilters:{category:"all",sortBy:"marketCap",sortOrder:"desc"},setActiveView:t=>e({activeView:t}),addSelectedAsset:s=>{let{selectedAssets:a}=t();!a.find(e=>e.id===s.id)&&a.length<10&&e({selectedAssets:[...a,s]})},removeSelectedAsset:s=>{let{selectedAssets:a}=t();e({selectedAssets:a.filter(e=>e.id!==s)})},addSelectedModel:s=>{let{selectedModels:a}=t();!a.find(e=>e.id===s.id)&&a.length<5&&e({selectedModels:[...a,{...s,isActive:!0}]})},removeSelectedModel:s=>{let{selectedModels:a}=t();e({selectedModels:a.filter(e=>e.id!==s)})},setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),updateAssets:t=>e({assets:t}),setAssets:t=>e({assets:t}),updateAsset:s=>{let{assets:a}=t(),i=a.map(e=>e.id===s.id?s:e);e({assets:i})},updateModels:t=>e({models:t}),updateNews:t=>e({news:t}),updateForumPosts:t=>e({forumPosts:t}),setUser:t=>e({user:t}),updateChartData:(s,a)=>{let{chartData:i}=t();e({chartData:{...i,[s]:a}})},setChartData:(s,a)=>{let{chartData:i}=t();e({chartData:{...i,[s]:a}})},addModelPrediction:s=>{let{modelPredictions:a}=t();e({modelPredictions:[s,...a.slice(0,99)]})},addAIInsight:s=>{let{aiInsights:a}=t();e({aiInsights:[...a||[],s]})},addToWatchlist:s=>{let{watchlist:a}=t();a.find(e=>e.id===s.id)||e({watchlist:[...a,s]})},removeFromWatchlist:s=>{let{watchlist:a}=t();e({watchlist:a.filter(e=>e.id!==s)})},addNotification:s=>{let{notifications:a}=t();e({notifications:[s,...a]})},markNotificationAsRead:s=>{let{notifications:a}=t(),i=a.map(e=>e.id===s?{...e,read:!0}:e);e({notifications:i})},clearNotifications:()=>{e({notifications:[]})},connectWebSocket:()=>{console.log("\uD83D\uDD0C Attempting to connect WebSocket to:",h);let s=(0,g.io)(h,{transports:["websocket"],autoConnect:!0});s.on("connect_error",t=>{console.error("❌ WebSocket connection error:",t),e({isConnected:!1,error:t.message})}),s.on("connect",()=>{e({isConnected:!0}),console.log("WebSocket connected")}),s.on("disconnect",()=>{e({isConnected:!1}),console.log("WebSocket disconnected")}),s.on("asset_update",e=>{t().updateAsset(e)}),s.on("news_update",s=>{let{news:a}=t();e({news:[s,...a.slice(0,99)]})}),s.on("model_prediction",e=>{t().addModelPrediction(e)}),e({socket:s})},disconnectWebSocket:()=>{let{socket:s}=t();s&&(s.disconnect(),e({socket:null,isConnected:!1}))},setSearchQuery:t=>e({searchQuery:t}),setNewsFilters:s=>{let{newsFilters:a}=t();e({newsFilters:{...a,...s}})},setAssetFilters:s=>{let{assetFilters:a}=t();e({assetFilters:{...a,...s}})},fetchAssets:async()=>{try{e({isLoading:!0,error:null});let t=await fetch("".concat(x,"/market/assets"));if(!t.ok)throw Error("Failed to fetch assets");let s=await t.json();e({assets:s,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},fetchModels:async()=>{try{e({isLoading:!0,error:null}),e({models:[{id:1,name:"LSTM Price Predictor",type:"neural_network",accuracy:.85},{id:2,name:"Random Forest Classifier",type:"ensemble",accuracy:.78},{id:3,name:"Sentiment Analysis",type:"nlp",accuracy:.92}],isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Unknown error",isLoading:!1})}},fetchNews:async()=>{try{e({isLoading:!0,error:null});let t=await fetch("".concat(x,"/news"));if(!t.ok)throw Error("Failed to fetch news");let s=await t.json();e({news:s,isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Unknown error",isLoading:!1})}},fetchForumPosts:async()=>{try{e({isLoading:!0,error:null}),e({forumPosts:[{id:1,title:"Bitcoin Analysis Discussion",author:"CryptoTrader",replies:15,likes:23},{id:2,title:"Stock Market Predictions",author:"MarketGuru",replies:8,likes:12},{id:3,title:"AI Trading Strategies",author:"AIExpert",replies:22,likes:45}],isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Unknown error",isLoading:!1})}},fetchChartData:async function(s){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e({isLoading:!0,error:null});let a=[],i=1e3*Math.random()+100;for(let e=0;e<100;e++){let t=Date.now()-(100-e)*6e4,s=i+(Math.random()-.5)*20;a.push({timestamp:t,open:s,high:s+5*Math.random(),low:s-5*Math.random(),close:s+(Math.random()-.5)*2,volume:1e6*Math.random()})}t().updateChartData(s,a),e({isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},runModel:async(s,a)=>{try{e({isLoading:!0,error:null});let i={modelId:s,assetId:a,prediction:{direction:Math.random()>.5?"bullish":"bearish",confidence:.4*Math.random()+.6,targetPrice:1e3*Math.random()+100,timeframe:"1d",reasoning:"Mock prediction based on technical analysis"},timestamp:new Date().toISOString()};t().addModelPrediction(i),e({isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},stopModel:async s=>{try{e({isLoading:!0,error:null});let{models:a}=t(),i=a.map(e=>e.id===s?{...e,status:"idle"}:e);e({models:i,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}}}),{name:"finscope-store",partialize:e=>({selectedAssets:e.selectedAssets,selectedModels:e.selectedModels,user:e.user,newsFilters:e.newsFilters,assetFilters:e.assetFilters})}),{name:"FinScope Store"}));let WebSocketService=class WebSocketService{connect(e){return new Promise((t,s)=>{var a;if((null===(a=this.socket)||void 0===a?void 0:a.readyState)===WebSocket.OPEN){t();return}if(this.isConnecting){s(Error("Connection already in progress"));return}this.isConnecting=!0;try{this.socket=new WebSocket(e||"ws://localhost:8000/ws"),this.socket.onopen=()=>{console.log("WebSocket connected"),this.isConnecting=!1,this.reconnectAttempts=0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.emit("connect"),t()},this.socket.onclose=e=>{console.log("WebSocket disconnected:",e.reason),this.isConnecting=!1,this.emit("disconnect",e.reason||"Connection closed"),this.handleReconnect()},this.socket.onerror=e=>{console.error("WebSocket error:",e),this.isConnecting=!1,this.emit("connect_error",Error("WebSocket connection failed")),s(e)},this.socket.onmessage=e=>{try{let t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("Error parsing WebSocket message:",e)}}}catch(e){this.isConnecting=!1,s(e)}setTimeout(()=>{this.isConnecting&&(this.isConnecting=!1,s(Error("Connection timeout")))},2e4)})}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.socket&&(this.socket.close(),this.socket=null),this.subscriptions.clear(),this.isConnecting=!1}isConnected(){var e;return(null===(e=this.socket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}handleMessage(e){let{type:t,data:s,timestamp:a}=e;switch(t){case"market_update":this.emit("market_update",{type:t,data:s,timestamp:a});break;case"price_update":this.emit("price_update",s);break;case"asset_update":this.emit("asset_update",s);break;case"news_update":this.emit("news_update",{type:t,data:s,timestamp:a});break;case"breaking_news":this.emit("breaking_news",s);break;case"ai_insight":this.emit("ai_insight",{type:t,data:s,timestamp:a});break;case"model_prediction":this.emit("model_prediction",s);break;case"notification":this.emit("notification",s);break;case"system_alert":this.emit("system_alert",s);break;default:console.log("Unknown message type:",t)}}sendMessage(e){var t;(null===(t=this.socket)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?this.socket.send(JSON.stringify(e)):console.warn("WebSocket not connected, cannot send message")}subscribeToAsset(e){this.sendMessage({type:"subscribe_asset",data:{asset_id:e}}),this.subscriptions.add("asset:".concat(e))}unsubscribeFromAsset(e){this.sendMessage({type:"unsubscribe_asset",data:{asset_id:e}}),this.subscriptions.delete("asset:".concat(e))}subscribeToNews(e){this.sendMessage({type:"subscribe_news",data:{category:e}}),this.subscriptions.add("news:".concat(e||"all"))}subscribeToModel(e){this.sendMessage({type:"subscribe_model",data:{model_id:e}}),this.subscriptions.add("model:".concat(e))}subscribeToForum(e){this.sendMessage({type:"subscribe_forum",data:{category:e}}),this.subscriptions.add("forum:".concat(e||"all"))}subscribeToUser(){this.sendMessage({type:"subscribe_user",data:{}}),this.subscriptions.add("user")}runModel(e,t,s){this.sendMessage({type:"run_model",data:{model_id:e,asset_id:t,parameters:s}})}sendForumMessage(e){this.sendMessage({type:"forum_message",data:e})}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){let s=this.eventListeners.get(e);if(s){let e=s.indexOf(t);e>-1&&s.splice(e,1)}}emit(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];let i=this.eventListeners.get(e);i&&i.forEach(t=>{try{t(...s)}catch(t){console.error("Error in WebSocket event listener for ".concat(e,":"),t)}})}setupEventListeners(){}setupDataEventListeners(){}handleReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts&&!this.reconnectTimer){let e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts);this.reconnectTimer=setTimeout(()=>{var e;(null===(e=this.socket)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN&&(this.reconnectAttempts++,console.log("Attempting to reconnect... (".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,")")),this.reconnectTimer=null,this.connect())},e)}}resubscribeAll(){this.subscriptions.forEach(e=>{let[t,s]=e.split(":");switch(t){case"asset":this.subscribeToAsset(s);break;case"news":this.subscribeToNews("all"===s?void 0:s);break;case"model":this.subscribeToModel(s);break;case"forum":this.subscribeToForum("all"===s?void 0:s);break;case"user":this.subscribeToUser()}})}getStatus(){return{connected:this.isConnected(),reconnectAttempts:this.reconnectAttempts,subscriptions:Array.from(this.subscriptions)}}updateAuth(e){var t;(null===(t=this.socket)||void 0===t?void 0:t.readyState)===WebSocket.OPEN&&this.sendMessage({type:"auth",data:{token:e}})}constructor(){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.isConnecting=!1,this.eventListeners=new Map,this.subscriptions=new Set,this.reconnectTimer=null,this.setupEventListeners()}};let p=new WebSocketService,useWebSocket=()=>({connect:e=>p.connect(e),disconnect:()=>p.disconnect(),isConnected:()=>p.isConnected(),getStatus:()=>p.getStatus(),subscribeToAsset:e=>p.subscribeToAsset(e),unsubscribeFromAsset:e=>p.unsubscribeFromAsset(e),subscribeToNews:e=>p.subscribeToNews(e),subscribeToModel:e=>p.subscribeToModel(e),subscribeToForum:e=>p.subscribeToForum(e),subscribeToUser:()=>p.subscribeToUser(),runModel:(e,t,s)=>p.runModel(e,t,s),on:(e,t)=>p.on(e,t),off:(e,t)=>p.off(e,t)});var y=s(5789);let useAssetsData=()=>{let{subscribeToAsset:e,unsubscribeFromAsset:t,on:s,off:a}=useWebSocket(),r=u(e=>e.updateAsset),n=(0,i.useRef)(new Set),o=(0,i.useCallback)(s=>{n.current.forEach(e=>{s.includes(e)||(t(e),n.current.delete(e))}),s.forEach(t=>{n.current.has(t)||(e(t),n.current.add(t))})},[e,t]),c=(0,i.useCallback)(e=>{e.forEach(e=>{n.current.has(e)&&(t(e),n.current.delete(e))})},[t]);return(0,i.useEffect)(()=>{let handleAssetUpdate=e=>{r(e)};return s("asset_update",handleAssetUpdate),()=>{a("asset_update",handleAssetUpdate),n.current.forEach(e=>{t(e)}),n.current.clear()}},[s,a,r,t]),{subscribeToAssets:o,unsubscribeFromAssets:c}},hooks_useModelPredictions=(e,t)=>{let{subscribeToModel:s,on:a,off:r}=useWebSocket(),n=u(e=>e.addModelPrediction),o=u(e=>e.modelPredictions);(0,i.useEffect)(()=>{if(e){s(e);let handlePrediction=s=>{e&&s.modelId!==e||t&&s.assetId!==t||n(s)};return a("model_prediction",handlePrediction),()=>{r("model_prediction",handlePrediction)}}},[e,t,s,a,r,n]);let c=o.filter(s=>(!e||s.modelId===e)&&(!t||s.assetId===t));return c};var ui_LoadingSpinner=e=>{let{size:t="md",color:s="primary",className:i=""}=e;return(0,a.jsx)("div",{className:"inline-block ".concat(i),children:(0,a.jsxs)("svg",{className:"animate-spin ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," ").concat({primary:"text-primary-600",secondary:"text-gray-600",white:"text-white"}[s]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},components_Watchlist=()=>{let{watchlist:e,selectedAssets:t,searchQuery:s,isLoading:d,addToWatchlist:m,removeFromWatchlist:g,addSelectedAsset:x,removeSelectedAsset:h,setSearchQuery:p}=u(),{subscribeToAssets:b}=useAssetsData();(0,i.useEffect)(()=>{if((null==e?void 0:e.length)>0){let t=(e||[]).map(e=>e.id);b(t)}},[e,b]);let f=(e||[]).filter(e=>e.symbol.toLowerCase().includes(s.toLowerCase())||e.name.toLowerCase().includes(s.toLowerCase())),toggleFavorite=t=>{let s=null==e?void 0:e.find(e=>e.id===t);s&&(s.isFavorite?g(t):m({...s,isFavorite:!0}))},handleAssetSelect=e=>{let s=t.find(t=>t.id===e.id);s?h(e.id):x(e)},isAssetSelected=e=>t.some(t=>t.id===e);return d&&(!e||0===e.length)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(ui_LoadingSpinner,{size:"md"})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Watchlist"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==e?void 0:e.length)||0," assets tracked"]})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors text-sm",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Add Asset"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400"})}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>p(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Search watchlist..."})]}),t.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Selected Assets (",t.length,")"]}),(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-primary-700 dark:text-primary-300 text-sm",children:e.symbol}),(0,a.jsx)("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:(0,y.xG)(e.price)})]})]}),(0,a.jsx)("button",{onClick:()=>h(e.id),className:"text-primary-500 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]},"selected-".concat(e.id)))})]}),(0,a.jsx)("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:f.map(e=>{let t=isAssetSelected(e.id);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-all cursor-pointer ".concat(t?"border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:()=>handleAssetSelect(e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),toggleFavorite(e.id)},className:"text-gray-400 hover:text-yellow-500 transition-colors",children:e.isFavorite?(0,a.jsx)(l.Z,{className:"h-4 w-4 text-yellow-500"}):(0,a.jsx)(c.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("crypto"===e.category?"bg-orange-400":"stocks"===e.category?"bg-blue-400":"forex"===e.category?"bg-green-400":"bg-purple-400")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.symbol}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-24",children:e.name})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:(0,y.xG)(e.price)}),(0,a.jsx)("div",{className:"text-xs ".concat((0,y.HQ)(e.change24h)),children:(0,y.rl)(e.change24h)})]})]},e.id)})}),0===f.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:s?"No assets found matching your search.":"Your watchlist is empty."}),!s&&(0,a.jsx)("button",{className:"mt-2 text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 text-sm",children:"Add your first asset"})]})]})},b=s(9367),f=s(1543),v=s(654),w=s(2484),j=s(1001),k=s(7154),N=s(9010),_=s(5173),S=s(3089),A=s(609),C=s(150),M=s(5790),T=s(2894),D=s(1841),I=s(6264),P=s(272),R=s(2549),L=s(4035);function FloatingAIAssistant(e){var t,s,r,n,o;let{symbol:c="AAPL",onClose:l,position:d={x:20,y:20},chartContainerRef:m}=e,[g,x]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),[p,y]=(0,i.useState)(null),[b,f]=(0,i.useState)(null),[v,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)(d),[N,_]=(0,i.useState)(!1),[Z,E]=(0,i.useState)({x:0,y:0}),F=(0,i.useRef)(null);(0,i.useRef)(null),(0,i.useEffect)(()=>{let handleMouseMove=e=>{N&&k({x:e.clientX-Z.x,y:e.clientY-Z.y})},handleMouseUp=()=>{_(!1)};return N&&(document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp)),()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)}},[N,Z]);let performEnhancedAnalysis=async()=>{u(!0),y(null);try{let e;if(b)e={capture_region:b,symbol:c,timeframe:"1D",custom_indicators:[],enable_forecasting:!0,enable_execution:!0,include_market_data:!0};else if(null==m?void 0:m.current){let t=m.current.getBoundingClientRect();e={capture_region:{x:Math.round(t.left),y:Math.round(t.top),width:Math.round(t.width),height:Math.round(t.height)},symbol:c,timeframe:"1D",custom_indicators:[],enable_forecasting:!0,enable_execution:!0,include_market_data:!0}}else e={symbol:c,timeframe:"1D",custom_indicators:[],enable_forecasting:!0,enable_execution:!0,include_market_data:!0};let t=await fetch("/api/screen-analysis/enhanced-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();y(s)}catch(e){console.error("Analysis failed:",e),y({success:!1,error:e instanceof Error?e.message:"Analysis failed"})}finally{u(!1)}},performQuickAnalysis=async()=>{u(!0),y(null);try{let e=await fetch("/api/screen-analysis/analyze-market",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:c,include_sentiment:!0,include_signals:!0,include_fundamentals:!0})}),t=await e.json();y({success:t.success,market_analysis:t,error:t.error})}catch(e){console.error("Quick analysis failed:",e),y({success:!1,error:e instanceof Error?e.message:"Quick analysis failed"})}finally{u(!1)}},getRecommendationColor=e=>{switch(null==e?void 0:e.toUpperCase()){case"BUY":return"bg-green-500";case"SELL":return"bg-red-500";default:return"bg-yellow-500"}};return g?(0,a.jsxs)(a.Fragment,{children:[v&&(0,a.jsx)(RegionSelector,{onRegionSelect:e=>{f(e),w(!1)},onCancel:()=>w(!1)}),(0,a.jsx)("div",{ref:F,className:"fixed z-50 w-96 max-h-[80vh] overflow-hidden",style:{left:Math.min(j.x,window.innerWidth-400),top:Math.min(j.y,window.innerHeight-600)},children:(0,a.jsxs)(A.Zb,{className:"shadow-2xl border-2 border-blue-200",children:[(0,a.jsxs)(A.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(A.ll,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"h-5 w-5 text-blue-600"}),"AI Chart Assistant"]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(S.z,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"h-8 w-8 p-0",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})}),l&&(0,a.jsx)(S.z,{variant:"ghost",size:"sm",onClick:l,className:"h-8 w-8 p-0",children:(0,a.jsx)(R.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Analyzing: ",(0,a.jsx)(C.C,{variant:"outline",children:c})]})]}),(0,a.jsxs)(A.aY,{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(S.z,{onClick:performEnhancedAnalysis,disabled:h,className:"flex items-center gap-2",size:"sm",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4"}),"Screen Analysis"]}),(0,a.jsxs)(S.z,{onClick:performQuickAnalysis,disabled:h,variant:"outline",className:"flex items-center gap-2",size:"sm",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4"}),"Market Data"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.z,{onClick:()=>{w(!0),f(null)},variant:"outline",size:"sm",className:"w-full",disabled:h,children:"Select Chart Region"}),b&&(0,a.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["Region: ",b.width,"\xd7",b.height," at (",b.x,", ",b.y,")"]})]}),h&&(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(I.Z,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Analyzing chart and market data..."})]})}),p&&!h&&(0,a.jsx)("div",{className:"space-y-4",children:p.success?(0,a.jsxs)(a.Fragment,{children:[p.combined_recommendation&&(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(e=>{switch(null==e?void 0:e.toUpperCase()){case"BUY":return(0,a.jsx)(M.Z,{className:"h-4 w-4"});case"SELL":return(0,a.jsx)(T.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(D.Z,{className:"h-4 w-4"})}})(p.combined_recommendation.recommendation),(0,a.jsx)("span",{className:"font-semibold",children:p.combined_recommendation.recommendation}),(0,a.jsxs)(C.C,{className:getRecommendationColor(p.combined_recommendation.recommendation),children:[(100*p.combined_recommendation.confidence).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Score: ",null===(t=p.combined_recommendation.final_score)||void 0===t?void 0:t.toFixed(3)]}),p.combined_recommendation.reasoning&&(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:p.combined_recommendation.reasoning.map((e,t)=>(0,a.jsxs)("div",{children:["• ",e]},t))})]}),(null===(s=p.market_analysis)||void 0===s?void 0:s.overall_recommendation)&&(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Market Sentiment"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[p.market_analysis.overall_recommendation.recommendation,"(",(100*p.market_analysis.overall_recommendation.confidence).toFixed(1),"%)"]})]}),(null===(r=p.chart_analysis)||void 0===r?void 0:r.execution_signals)&&(0,a.jsxs)("div",{className:"border-l-4 border-green-500 pl-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Chart Analysis"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:(null===(n=p.chart_analysis.execution_signals.primary_signal)||void 0===n?void 0:n.action)||"No clear signal"})]}),(null===(o=p.market_analysis)||void 0===o?void 0:o.trading_signals)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Trading Signals"}),p.market_analysis.trading_signals.slice(0,3).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"text-xs bg-white p-2 rounded border",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:null===(s=e.type)||void 0===s?void 0:s.toUpperCase()}),(0,a.jsxs)("span",{className:"text-gray-500",children:[(100*e.strength).toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:e.source})]},t)})]})]}):(0,a.jsxs)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 inline mr-2"}),p.error||"Analysis failed"]})})]})]})})]}):(0,a.jsxs)("div",{ref:F,className:"fixed z-50 cursor-move",style:{left:j.x,top:j.y,userSelect:"none"},onMouseDown:e=>{var t;if(g)return;_(!0);let s=null===(t=F.current)||void 0===t?void 0:t.getBoundingClientRect();s&&E({x:e.clientX-s.left,y:e.clientY-s.top})},children:[(0,a.jsx)(S.z,{onClick:()=>x(!0),className:"rounded-full w-12 h-12 bg-blue-600 hover:bg-blue-700 shadow-lg border-2 border-white",disabled:h,children:h?(0,a.jsx)(I.Z,{className:"h-6 w-6 animate-spin"}):(0,a.jsx)(P.Z,{className:"h-6 w-6"})}),(null==p?void 0:p.combined_recommendation)&&(0,a.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,a.jsx)(C.C,{className:"".concat(getRecommendationColor(p.combined_recommendation.recommendation)," text-white text-xs px-1 py-0.5"),children:p.combined_recommendation.recommendation})})]})}function RegionSelector(e){let{onRegionSelect:t,onCancel:s}=e,[r,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(null),[l,d]=(0,i.useState)(null);return(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black bg-opacity-30 cursor-crosshair",onMouseDown:e=>{n(!0),c({x:e.clientX,y:e.clientY}),d({x:e.clientX,y:e.clientY})},onMouseMove:e=>{r&&o&&d({x:e.clientX,y:e.clientY})},onMouseUp:()=>{if(r&&o&&l){let e={x:Math.min(o.x,l.x),y:Math.min(o.y,l.y),width:Math.abs(l.x-o.x),height:Math.abs(l.y-o.y)};e.width>50&&e.height>50&&t(e)}n(!1),c(null),d(null)},onContextMenu:e=>{e.preventDefault(),s()},children:[(0,a.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white px-4 py-2 rounded-lg shadow-lg",children:(0,a.jsx)("p",{className:"text-sm",children:"Click and drag to select chart region. Right-click to cancel."})}),r&&o&&l&&(0,a.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-200 bg-opacity-20",style:o&&l?{left:Math.min(o.x,l.x),top:Math.min(o.y,l.y),width:Math.abs(l.x-o.x),height:Math.abs(l.y-o.y)}:{}})]})}var Z=s(4522),E=s(4891),F=s(9670),O=s(9224),z=s(3523),B=s(7216),U=s(9036),W=s(6654);let generateMockAnalysis=e=>{let t=[{symbol:e,sentiment_score:.75,source:"Reddit",summary:"Bullish sentiment on recent earnings beat",timestamp:new Date().toISOString(),confidence:.85},{symbol:e,sentiment_score:.65,source:"Twitter",summary:"Positive technical analysis discussions",timestamp:new Date().toISOString(),confidence:.72}],s=[{signal_type:"BUY",strength:.8,source:"Technical Analysis",reasoning:"Strong bullish momentum with RSI oversold recovery",target_price:155.5,stop_loss:142.3,timestamp:new Date().toISOString(),confidence:.78},{signal_type:"HOLD",strength:.6,source:"Fundamental Analysis",reasoning:"Fair valuation with moderate growth prospects",target_price:148,stop_loss:135,timestamp:new Date().toISOString(),confidence:.65}];return{primary_recommendation:"BUY",confidence:.82,reasoning:"Strong technical indicators combined with positive market sentiment suggest upward momentum. Recent earnings beat and improving fundamentals support bullish outlook.",target_price:155.5,stop_loss:142.3,risk_level:"MEDIUM",time_horizon:"1-3 months",key_factors:["Technical breakout above resistance","Positive earnings surprise","Strong sector momentum","Improving market sentiment"],execution_signal:{action:"BUY",urgency:"MEDIUM",position_size:.05,entry_price:145.2,stop_loss:142.3,take_profit:155.5,reasoning:"Enter on current momentum with defined risk management"},market_sentiment:t,scraped_signals:s,metadata:{analysis_timestamp:new Date().toISOString(),model_version:"fin-r1-v2.1",data_sources:["technical","fundamental","sentiment","news"],processing_time_ms:1250,market_sentiment_count:t.length,scraped_signals_count:s.length}}},V={getAnalysis:async e=>(await new Promise(e=>setTimeout(e,1e3)),generateMockAnalysis(e)),getMarketSentiment:async e=>(await new Promise(e=>setTimeout(e,500)),[{symbol:e,sentiment_score:2*Math.random()-1,source:"Reddit",summary:"Mixed sentiment with bullish bias on recent developments",timestamp:new Date().toISOString(),confidence:.75+.2*Math.random()},{symbol:e,sentiment_score:2*Math.random()-1,source:"Twitter",summary:"Technical analysis discussions trending positive",timestamp:new Date().toISOString(),confidence:.65+.25*Math.random()}]),async getTradingSignals(e){await new Promise(e=>setTimeout(e,750));let t=["BUY","SELL","HOLD"];return[{signal_type:t[Math.floor(Math.random()*t.length)],strength:.5+.5*Math.random(),source:"Technical Analysis",reasoning:"RSI and MACD indicators suggest momentum shift",target_price:150+20*Math.random(),stop_loss:140+10*Math.random(),timestamp:new Date().toISOString(),confidence:.6+.3*Math.random()}]}};var components_ChartOverlay=e=>{var t,s,r,n,o,c,l,d,m;let{symbol:g,isVisible:x,onToggleVisibility:h,position:u="top-right"}=e,[p,y]=(0,i.useState)(!1),[b,f]=(0,i.useState)("signals"),[v,w]=(0,i.useState)(null),[j,k]=(0,i.useState)(!0),[N,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{let fetchAnalysis=async()=>{try{k(!0),_(null);let e=await V.getAnalysis(g),t={success:!0,symbol:g,timeframe:e.time_horizon,strategy_recommendations:{primary_recommendation:e.primary_recommendation,confidence:e.confidence,strategies_count:1,market_sentiment:e.market_sentiment,scraped_signals:e.scraped_signals},execution_signals:[{action:e.execution_signal.action,confidence:e.confidence,signal_strength:e.execution_signal.urgency,position_size:e.execution_signal.position_size,stop_loss:e.execution_signal.stop_loss,take_profit:e.execution_signal.take_profit,reasoning:e.execution_signal.reasoning}],forecasts:{price_forecast:{direction:"BUY"===e.primary_recommendation?"UP":"SELL"===e.primary_recommendation?"DOWN":"NEUTRAL",confidence:e.confidence,target_price:e.target_price},volatility_forecast:{level:e.risk_level,confidence:e.confidence}},market_analysis:{overall_recommendation:{recommendation:e.primary_recommendation,confidence:e.confidence,sentiment_score:e.market_sentiment.length>0?e.market_sentiment.reduce((e,t)=>e+t.sentiment_score,0)/e.market_sentiment.length:0},sentiment_analysis:{average_sentiment:e.market_sentiment.length>0?e.market_sentiment.reduce((e,t)=>e+t.sentiment_score,0)/e.market_sentiment.length:0,confidence:e.market_sentiment.length>0?e.market_sentiment.reduce((e,t)=>e+t.confidence,0)/e.market_sentiment.length:0,data_points:e.market_sentiment.length},trading_signals:e.scraped_signals}};w(t)}catch(e){_("Failed to load AI analysis"),console.error("Error fetching analysis:",e)}finally{k(!1)}};g&&fetchAnalysis()},[g]);let getPositionClasses=()=>{switch(u){case"top-left":return"top-4 left-4";case"top-right":default:return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-right":return"bottom-4 right-4"}},getSentimentColor=e=>e>.3?"text-green-600":e<-.3?"text-red-600":"text-yellow-600";return x?(0,a.jsx)("div",{className:"absolute ".concat(getPositionClasses()," z-40 w-80"),children:(0,a.jsxs)(A.Zb,{className:"bg-white/95 backdrop-blur-sm border-gray-200 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"AI Analysis"}),g&&(0,a.jsx)(C.C,{variant:"outline",className:"text-xs",children:g})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(S.z,{onClick:()=>y(!p),size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:p?(0,a.jsx)(O.Z,{className:"h-3 w-3"}):(0,a.jsx)(z.Z,{className:"h-3 w-3"})}),(0,a.jsx)(S.z,{onClick:h,size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:(0,a.jsx)(B.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(A.aY,{className:"p-3",children:j?(0,a.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,a.jsx)(ui_LoadingSpinner,{size:"md"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Loading AI analysis..."})]}):N||!v?(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)(T.Z,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:N||"Failed to load analysis"})]}):(null==v?void 0:v.success)?(0,a.jsxs)(a.Fragment,{children:[v.strategy_recommendations&&(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(e=>{switch(null==e?void 0:e.toLowerCase()){case"buy":case"strong buy":return(0,a.jsx)(M.Z,{className:"h-4 w-4 text-green-600"});case"sell":case"strong sell":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-600"});case"hold":return(0,a.jsx)(E.Z,{className:"h-4 w-4 text-yellow-600"});default:return(0,a.jsx)(T.Z,{className:"h-4 w-4 text-gray-600"})}})(v.strategy_recommendations.primary_recommendation),(0,a.jsx)(C.C,{className:(e=>{switch(null==e?void 0:e.toLowerCase()){case"buy":case"strong buy":return"bg-green-100 text-green-800 border-green-200";case"sell":case"strong sell":return"bg-red-100 text-red-800 border-red-200";case"hold":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(v.strategy_recommendations.primary_recommendation),children:v.strategy_recommendations.primary_recommendation}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*v.strategy_recommendations.confidence).toFixed(1),"%"]})]})}),v.execution_signals&&v.execution_signals.length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Execution Signal"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:v.execution_signals[0].action.toUpperCase()}),(0,a.jsxs)("span",{className:"text-gray-500",children:[(100*v.execution_signals[0].confidence).toFixed(0),"%"]})]}),v.execution_signals[0].stop_loss&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-red-600",children:[(0,a.jsx)(U.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["SL: $",v.execution_signals[0].stop_loss.toFixed(2)]})]}),v.execution_signals[0].take_profit&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,a.jsx)(W.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["TP: $",v.execution_signals[0].take_profit.toFixed(2)]})]})]})]}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200 mb-3",children:[(0,a.jsx)("button",{onClick:()=>f("signals"),className:"px-2 py-1 text-xs font-medium border-b-2 transition-colors ".concat("signals"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Signals"}),(0,a.jsx)("button",{onClick:()=>f("sentiment"),className:"px-2 py-1 text-xs font-medium border-b-2 transition-colors ".concat("sentiment"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Sentiment"}),(0,a.jsx)("button",{onClick:()=>f("forecast"),className:"px-2 py-1 text-xs font-medium border-b-2 transition-colors ".concat("forecast"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Forecast"})]}),"signals"===b&&(0,a.jsx)("div",{className:"space-y-2",children:(null===(s=v.market_analysis)||void 0===s?void 0:null===(t=s.trading_signals)||void 0===t?void 0:t.slice(0,3).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 p-2 rounded text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:null===(s=e.type)||void 0===s?void 0:s.toUpperCase()}),(0,a.jsxs)("span",{className:"text-gray-500",children:[(100*e.strength).toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"text-gray-600",children:e.source}),e.reasoning&&(0,a.jsxs)("div",{className:"text-gray-500 mt-1 text-xs",children:[e.reasoning.slice(0,60),"..."]})]},t)}))||(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center py-2",children:"No trading signals available"})}),"sentiment"===b&&(0,a.jsxs)("div",{className:"space-y-2",children:[(null===(r=v.market_analysis)||void 0===r?void 0:r.sentiment_analysis)&&(0,a.jsxs)("div",{className:"bg-white border border-gray-200 p-2 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"Market Sentiment"}),(0,a.jsxs)("span",{className:"text-xs font-medium ".concat(getSentimentColor(v.market_analysis.sentiment_analysis.average_sentiment)),children:[(100*v.market_analysis.sentiment_analysis.average_sentiment).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Based on ",v.market_analysis.sentiment_analysis.data_points," data points"]})]}),(null===(o=v.strategy_recommendations)||void 0===o?void 0:null===(n=o.market_sentiment)||void 0===n?void 0:n.slice(0,2).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 p-2 rounded text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:e.source}),(0,a.jsxs)("span",{className:"font-medium ".concat(getSentimentColor(e.sentiment_score)),children:[(100*e.sentiment_score).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"text-gray-600",children:[null===(s=e.summary)||void 0===s?void 0:s.slice(0,50),"..."]})]},t)}))||(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center py-2",children:"No sentiment data available"})]}),"forecast"===b&&(0,a.jsxs)("div",{className:"space-y-2",children:[(null===(c=v.forecasts)||void 0===c?void 0:c.price_forecast)&&(0,a.jsxs)("div",{className:"bg-white border border-gray-200 p-2 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"Price Forecast"}),(0,a.jsx)("span",{className:"text-xs font-medium ".concat("up"===v.forecasts.price_forecast.direction?"text-green-600":"down"===v.forecasts.price_forecast.direction?"text-red-600":"text-yellow-600"),children:v.forecasts.price_forecast.direction.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Confidence: ",(100*v.forecasts.price_forecast.confidence).toFixed(1),"%"]}),v.forecasts.price_forecast.target_price&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Target: $",v.forecasts.price_forecast.target_price.toFixed(2)]})]}),(null===(l=v.forecasts)||void 0===l?void 0:l.volatility_forecast)&&(0,a.jsxs)("div",{className:"bg-white border border-gray-200 p-2 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"Volatility"}),(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:v.forecasts.volatility_forecast.level.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Confidence: ",(100*v.forecasts.volatility_forecast.confidence).toFixed(1),"%"]})]}),!(null===(d=v.forecasts)||void 0===d?void 0:d.price_forecast)&&!(null===(m=v.forecasts)||void 0===m?void 0:m.volatility_forecast)&&(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center py-2",children:"No forecast data available"})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(T.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:(null==v?void 0:v.success)===!1?"Analysis failed":"No analysis data"})]})})]})}):(0,a.jsx)("div",{className:"absolute ".concat(getPositionClasses()," z-40"),children:(0,a.jsx)(S.z,{onClick:h,size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg hover:bg-white",children:(0,a.jsx)(F.Z,{className:"h-4 w-4"})})})};let RealTimeDataPipeline=class RealTimeDataPipeline{start(){if("running"===this.status){console.warn("Pipeline is already running");return}this.status="running",this.emit("status_change",{status:this.status}),this.intervalId=setInterval(()=>{this.processPipelineData()},this.config.updateInterval),console.log("Real-time data pipeline started")}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.status="idle",this.emit("status_change",{status:this.status}),console.log("Real-time data pipeline stopped")}pause(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.status="paused",this.emit("status_change",{status:this.status}),console.log("Real-time data pipeline paused")}resume(){if("paused"!==this.status){console.warn("Pipeline is not paused");return}this.status="running",this.emit("status_change",{status:this.status}),this.intervalId=setInterval(()=>{this.processPipelineData()},this.config.updateInterval),console.log("Real-time data pipeline resumed")}subscribe(e,t){this.subscribers.set(e,t)}unsubscribe(e){this.subscribers.delete(e)}getStatus(){return this.status}getData(e){return this.dataCache.get(e)}getAllData(){return new Map(this.dataCache)}updateConfig(e){this.config={...this.config,...e},"running"===this.status&&(this.stop(),this.start())}async processPipelineData(){let e=Date.now();try{for(let t of this.config.symbols){let s={timestamp:new Date().toISOString(),symbol:t,processingTime:0};this.config.enableScreenCapture&&(s.screenCapture=await this.captureScreen(t)),this.config.enableWebScraping&&(s.webScrapingData=await this.scrapeWebData(t)),this.config.enableAIAnalysis&&(s.aiAnalysis=await this.performAIAnalysis(t,s)),s.processingTime=Date.now()-e,this.dataCache.set(t,s),this.emit("data_update",s),s.aiAnalysis&&this.emit("analysis_complete",{symbol:t,analysis:s.aiAnalysis,processingTime:s.processingTime})}}catch(t){console.error("Pipeline processing error:",t),this.status="error";let e=t instanceof Error?t.message:"Unknown error occurred";this.emit("error",{error:e,timestamp:new Date().toISOString()})}}async captureScreen(e){return await new Promise(e=>setTimeout(e,200)),{chartImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==",ocrText:"".concat(e," Price: $145.67 Volume: 1.2M"),detectedPrices:[145.67,144.23,146.89]}}async scrapeWebData(e){await new Promise(e=>setTimeout(e,500));let t=await V.getMarketSentiment(e),s=await V.getTradingSignals(e);return{sentiment:t,signals:s,newsHeadlines:["".concat(e," reports strong quarterly earnings"),"Analysts upgrade ".concat(e," price target"),"".concat(e," announces new product launch")]}}async performAIAnalysis(e,t){return await V.getAnalysis(e)}emit(e,t){let s={type:e,data:t,timestamp:new Date().toISOString()};this.subscribers.forEach(e=>{try{e(s)}catch(e){console.error("Error in pipeline event callback:",e)}})}constructor(e){this.status="idle",this.intervalId=null,this.subscribers=new Map,this.dataCache=new Map,this.config=e}};let G=new RealTimeDataPipeline({updateInterval:3e4,enableScreenCapture:!0,enableWebScraping:!0,enableAIAnalysis:!0,symbols:["AAPL","GOOGL","MSFT","TSLA"]}),useRealTimeDataPipeline=()=>{let[e,t]=(0,i.useState)(G.getStatus()),[s,a]=(0,i.useState)(new Map),[r,n]=(0,i.useState)(new Map),[o,c]=(0,i.useState)(null),[l,d]=(0,i.useState)([]),[m,g]=(0,i.useState)({totalUpdates:0,lastUpdateTime:null,averageProcessingTime:0,errorCount:0}),x=(0,i.useRef)([]),h=(0,i.useRef)("hook_".concat(Date.now(),"_").concat(Math.random())),u=(0,i.useCallback)(e=>{switch(c(e),d(t=>{let s=[...t,e];return s.slice(-100)}),e.type){case"status_change":t(e.data.status);break;case"data_update":let s=e.data;a(e=>{let t=new Map(e);return t.set(s.symbol,s),t}),g(e=>{x.current.push(s.processingTime),x.current.length>50&&(x.current=x.current.slice(-50));let t=x.current.reduce((e,t)=>e+t,0)/x.current.length;return{...e,totalUpdates:e.totalUpdates+1,lastUpdateTime:s.timestamp,averageProcessingTime:t}});break;case"analysis_complete":let{symbol:i,analysis:r}=e.data;n(e=>{let t=new Map(e);return t.set(i,r),t});break;case"error":g(e=>({...e,errorCount:e.errorCount+1})),console.error("Pipeline error:",e.data)}},[]);(0,i.useEffect)(()=>(G.subscribe(h.current,u),a(G.getAllData()),t(G.getStatus()),()=>{G.unsubscribe(h.current)}),[u]);let p=(0,i.useCallback)(()=>{G.start()},[]),y=(0,i.useCallback)(()=>{G.stop()},[]),b=(0,i.useCallback)(()=>{G.pause()},[]),f=(0,i.useCallback)(()=>{G.resume()},[]),v=(0,i.useCallback)(e=>{G.updateConfig(e)},[]),w=(0,i.useCallback)(e=>s.get(e),[s]),j=(0,i.useCallback)(e=>r.get(e),[r]);return{status:e,isRunning:"running"===e,data:s,latestAnalysis:r,start:p,stop:y,pause:b,resume:f,updateConfig:v,getDataForSymbol:w,getAnalysisForSymbol:j,lastEvent:o,eventHistory:l,stats:m}};var components_TradingChart=()=>{let{selectedAssets:e,selectedModels:t,chartData:s,isLoading:r}=u(),{subscribeToAssets:n}=useAssetsData(),o=hooks_useModelPredictions(),[c,l]=(0,i.useState)("candlestick"),[d,m]=(0,i.useState)(!0),[g,x]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!0),[S,A]=(0,i.useState)("1h"),[C,M]=(0,i.useState)(!1),[T,D]=(0,i.useState)(!1),{isRunning:I,data:P,latestAnalysis:R,start:L,pause:Z,stop:E}=useRealTimeDataPipeline(),F=(0,i.useRef)(null),O=(0,i.useRef)(null),z=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e.length>0){let t=e.map(e=>e.id);n(t)}},[e,n]),(0,i.useEffect)(()=>{},[t,e]),(0,i.useEffect)(()=>{let e=B&&s[B.id]||[];if(!F.current||!e||0===e.length)return;let t=F.current,a=t.getContext("2d");if(!a)return;let i=t.getBoundingClientRect();t.width=i.width*window.devicePixelRatio,t.height=i.height*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio),a.clearRect(0,0,i.width,i.height);let r=e.flatMap(e=>[e.high,e.low]),n=Math.min(...r),l=Math.max(...r)-n,d=.1*l,m=i.width-80,x=i.height-60,h=Math.max(2,m/e.length);a.strokeStyle="#374151",a.lineWidth=.5;for(let e=0;e<=5;e++){let t=x/5*e+20;a.beginPath(),a.moveTo(40,t),a.lineTo(i.width-20,t),a.stroke()}if("candlestick"===c)e.forEach((e,t)=>{let s=40+t*h+h/2,i=x-(e.open-n+d)/(l+2*d)*x+20,r=x-(e.close-n+d)/(l+2*d)*x+20,o=x-(e.high-n+d)/(l+2*d)*x+20,c=x-(e.low-n+d)/(l+2*d)*x+20,m=e.close>e.open;a.strokeStyle=m?"#10b981":"#ef4444",a.fillStyle=m?"#10b981":"#ef4444",a.lineWidth=1,a.beginPath(),a.moveTo(s,o),a.lineTo(s,c),a.stroke();let g=Math.abs(r-i)||1,u=Math.min(i,r),p=Math.max(1,.6*h);m?a.fillRect(s-p/2,u,p,g):a.strokeRect(s-p/2,u,p,g)});else if("line"===c)a.strokeStyle="#3b82f6",a.lineWidth=2,a.beginPath(),e.forEach((e,t)=>{let s=40+t*h+h/2,i=x-(e.close-n+d)/(l+2*d)*x+20;0===t?a.moveTo(s,i):a.lineTo(s,i)}),a.stroke();else if("area"===c){let t=a.createLinearGradient(0,20,0,x+20);t.addColorStop(0,"rgba(59, 130, 246, 0.3)"),t.addColorStop(1,"rgba(59, 130, 246, 0.05)"),a.fillStyle=t,a.beginPath(),a.moveTo(40,x+20),e.forEach((e,t)=>{let s=x-(e.close-n+d)/(l+2*d)*x+20;a.lineTo(40+t*h+h/2,s)});let s=40+(e.length-1)*h+h/2;a.lineTo(s,x+20),a.closePath(),a.fill(),a.strokeStyle="#3b82f6",a.lineWidth=2,a.beginPath(),e.forEach((e,t)=>{let s=40+t*h+h/2,i=x-(e.close-n+d)/(l+2*d)*x+20;0===t?a.moveTo(s,i):a.lineTo(s,i)}),a.stroke()}g&&o&&o.length>0&&o.forEach((t,s)=>{var i;let r=["#f59e0b","#8b5cf6","#06b6d4","#10b981","#ef4444"],o=r[s%r.length];a.strokeStyle=o,a.lineWidth=2,a.setLineDash([5,5]),a.beginPath();let c=40+e.length*h+h/2,m=Number(t.prediction.targetPrice||(null===(i=e[e.length-1])||void 0===i?void 0:i.close)||0),g=x-(m-n+d)/(l+2*d)*x+20,u=40+(e.length-1)*h+h/2,p=x-(e[e.length-1].close-n+d)/(l+2*d)*x+20;a.moveTo(u,p),a.lineTo(c,g),a.stroke(),a.setLineDash([])}),a.fillStyle="#9ca3af",a.font="12px sans-serif",a.textAlign="right";for(let e=0;e<=5;e++){let t=n+l*e/5,s=x-e/5*x+25;a.fillText("$".concat(t.toFixed(2)),35,s)}a.textAlign="center";let u=Math.max(1,Math.floor(e.length/6));for(let t=0;t<e.length;t+=u){let s=40+t*h+h/2,i=new Date(e[t].timestamp),r=i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});a.fillText(r,s,x+40)}},[e,s,c,g,o]),(0,i.useEffect)(()=>{let e=B&&s[B.id]||[];if(!O.current||!e||0===e.length||!h)return;let t=O.current,a=t.getContext("2d");if(!a)return;let i=t.getBoundingClientRect();t.width=i.width*window.devicePixelRatio,t.height=i.height*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio),a.clearRect(0,0,i.width,i.height);let r=Math.max(...e.map(e=>e.volume)),n=i.width-80,o=i.height-20,c=Math.max(2,n/e.length);e.forEach((t,s)=>{let i=40+s*c,n=t.volume/r*o,l=o-n,d=!(s>0)||t.close>e[s-1].close;a.fillStyle=d?"rgba(16, 185, 129, 0.6)":"rgba(239, 68, 68, 0.6)",a.fillRect(i,l,.8*c,n)})},[e,s,h]);let B=e[0],U=B&&s[B.id]||[],W=U&&U.length>0?U[U.length-1]:null;return r?(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 h-96",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(ui_LoadingSpinner,{size:"lg"})})}):(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Trading Chart"}),B&&(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Asset:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.symbol})]}),W&&(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(0,y.xG)(W.close)}),(0,a.jsx)("div",{className:"text-sm ".concat((0,y.HQ)(W.close-W.open)),children:(0,y.rl)((W.close-W.open)/W.open*100)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("select",{value:S,onChange:e=>A(e.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"10m",label:"10m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1h"},{value:"2h",label:"2h"},{value:"6h",label:"6h"},{value:"12h",label:"12h"},{value:"1d",label:"1d"},{value:"1w",label:"1w"},{value:"1M",label:"1M"},{value:"6M",label:"6M"},{value:"1y",label:"1y"},{value:"5y",label:"5y"},{value:"all",label:"All"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)("select",{value:c,onChange:e=>l(e.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[{value:"candlestick",label:"Candlestick"},{value:"line",label:"Line"},{value:"area",label:"Area"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsxs)("button",{onClick:()=>x(!g),className:"flex items-center space-x-1 px-2 py-1 rounded text-xs transition-colors ".concat(g?"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[g?(0,a.jsx)(b.Z,{className:"h-3 w-3"}):(0,a.jsx)(f.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Predictions"})]}),(0,a.jsxs)("button",{onClick:()=>p(!h),className:"flex items-center space-x-1 px-2 py-1 rounded text-xs transition-colors ".concat(h?"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Volume"})]}),(0,a.jsxs)("button",{onClick:()=>m(!d),className:"flex items-center space-x-1 px-3 py-1 rounded-lg text-sm transition-colors ".concat(d?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[d?(0,a.jsx)(w.Z,{className:"h-4 w-4"}):(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:d?"Live":"Paused"})]}),(0,a.jsxs)("button",{onClick:()=>M(!C),className:"flex items-center space-x-1 px-3 py-1 rounded-lg text-sm transition-colors ".concat(C?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"AI"})]}),(0,a.jsxs)("button",{onClick:()=>D(!T),className:"flex items-center space-x-1 px-3 py-1 rounded-lg text-sm transition-colors ".concat(T?"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Analysis"})]}),I&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Pipeline Active"})]}),(0,a.jsx)("button",{className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:(0,a.jsx)(_.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)("div",{ref:z,className:"relative",children:[(0,a.jsx)("canvas",{ref:F,className:"w-full h-80",style:{display:"block"}}),h&&(0,a.jsx)("canvas",{ref:O,className:"w-full h-20 border-t border-gray-200 dark:border-gray-700",style:{display:"block"}}),g&&o.length>0&&(0,a.jsxs)("div",{className:"absolute top-4 left-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Model Predictions"}),(0,a.jsx)("div",{className:"space-y-1",children:o.map((e,s)=>{var i;let r=["#f59e0b","#8b5cf6","#06b6d4","#10b981","#ef4444"],n=r[s%r.length];return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-0.5",style:{backgroundColor:n,borderStyle:"dashed"}}),(0,a.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:(null===(i=t.find(t=>t.id===e.modelId))||void 0===i?void 0:i.name)||"Unknown Model"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(100*e.prediction.confidence).toFixed(1),"% confidence"]})]},e.modelId)})})]}),T&&B&&(0,a.jsx)(components_ChartOverlay,{symbol:B.symbol,isVisible:T,onToggleVisibility:()=>D(!1),position:"top-right"}),(!U||0===U.length)&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:0===e.length?"Select an asset to view chart data":"Loading chart data..."})]})})]}),W&&(0,a.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Open:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(0,y.xG)(W.open)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"High:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(0,y.xG)(W.high)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Low:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(0,y.xG)(W.low)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Close:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(0,y.xG)(W.close)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Volume:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:W.volume.toLocaleString()})]})]})}),C&&(0,a.jsx)(FloatingAIAssistant,{symbol:(null==B?void 0:B.symbol)||"UNKNOWN",onClose:()=>M(!1),chartContainerRef:z,position:{x:20,y:20}})]})},H=s(6602),Y=s(1554),Q=s(887),q=s(4713),J=s(7057),X=s(4291),K=s(2929),$=s(8194),ee=s(1447),et=s(2227),components_AIInsights=()=>{let{selectedAssets:e,selectedModels:t,isLoading:s,addNotification:r}=u(),[n,o]=i.useState([]),[c,l]=i.useState([]),[d,m]=i.useState("all"),[g,x]=i.useState("all"),[h,p]=i.useState("timestamp"),[f,w]=i.useState(null),[j,k]=i.useState(!1),N=i.useCallback(()=>[{type:"prediction",title:"Bitcoin Price Surge Expected",description:"Technical analysis indicates a potential 15% price increase within the next 7 days based on current market momentum and institutional buying patterns.",confidence:.85,impact:"high",timeframe:"7 days",relatedAssets:["BTC"],tags:["Technical Analysis","Price Prediction","Bullish"],source:"ML Price Predictor",data:{currentPrice:45e3,targetPrice:51750,priceChange:15,probability:.85}},{type:"analysis",title:"Ethereum Network Activity Analysis",description:"On-chain metrics show increased DeFi activity and staking participation, indicating strong network fundamentals and potential price support.",confidence:.78,impact:"medium",timeframe:"30 days",relatedAssets:["ETH"],tags:["On-chain Analysis","DeFi","Network Activity"],source:"Blockchain Analytics",data:{currentPrice:2800,riskLevel:"low"}},{type:"recommendation",title:"Portfolio Rebalancing Suggestion",description:"Current portfolio allocation shows overexposure to large-cap assets. Consider diversifying into mid-cap altcoins for better risk-adjusted returns.",confidence:.72,impact:"medium",timeframe:"14 days",relatedAssets:["BTC","ETH","ADA","SOL"],tags:["Portfolio Management","Risk Management","Diversification"],source:"Portfolio Optimizer"},{type:"alert",title:"High Volatility Warning",description:"Market volatility has increased significantly. Consider reducing position sizes or implementing stop-loss orders to protect against sudden price movements.",confidence:.91,impact:"high",timeframe:"Immediate",relatedAssets:["BTC","ETH","ADA"],tags:["Risk Alert","Volatility","Risk Management"],source:"Risk Monitor",data:{riskLevel:"high"}},{type:"trend",title:"Emerging DeFi Trend Detected",description:"Social sentiment analysis reveals growing interest in yield farming protocols. Early adoption could present profitable opportunities.",confidence:.68,impact:"medium",timeframe:"21 days",relatedAssets:["ETH","LINK"],tags:["Trend Analysis","DeFi","Social Sentiment"],source:"Trend Detector"}].map((e,t)=>({id:"insight-".concat(t+1),...e,timestamp:new Date(Date.now()-864e5*Math.random()).toISOString(),isBookmarked:Math.random()>.7,views:Math.floor(500*Math.random())+50})),[]);(0,i.useEffect)(()=>{let e=N();o(e)},[N]),(0,i.useEffect)(()=>{let t=n.filter(t=>{let s="all"===d||t.type===d,a="all"===g||t.impact===g,i=0===e.length||e.some(e=>t.relatedAssets.includes(e.symbol)||t.relatedAssets.includes(e.id));return s&&a&&i});t.sort((e,t)=>{switch(h){case"timestamp":return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime();case"confidence":return t.confidence-e.confidence;case"impact":let s={high:3,medium:2,low:1};return s[t.impact]-s[e.impact];default:return 0}}),l(t)},[n,d,g,h,e]);let getInsightIcon=e=>{switch(e){case"prediction":return(0,a.jsx)(H.Z,{className:"h-5 w-5 text-blue-500"});case"analysis":return(0,a.jsx)(v.Z,{className:"h-5 w-5 text-green-500"});case"recommendation":return(0,a.jsx)(Y.Z,{className:"h-5 w-5 text-yellow-500"});case"alert":return(0,a.jsx)(Q.Z,{className:"h-5 w-5 text-red-500"});case"trend":return(0,a.jsx)(q.Z,{className:"h-5 w-5 text-purple-500"});default:return(0,a.jsx)(J.Z,{className:"h-5 w-5 text-gray-500"})}},getImpactColor=e=>{switch(e){case"high":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/20";case"medium":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20";case"low":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/20"}},getConfidenceColor=e=>e>=.8?"text-green-600 dark:text-green-400":e>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",handleRefresh=async()=>{k(!0);try{await new Promise(e=>setTimeout(e,1e3));let e=N();o(e),r({id:Date.now().toString(),type:"success",message:"AI insights refreshed successfully",read:!1,timestamp:new Date().toISOString()})}catch(e){r({id:Date.now().toString(),type:"error",message:"Failed to refresh AI insights",read:!1,timestamp:new Date().toISOString()})}finally{k(!1)}},handleBookmark=(e,t)=>{t.stopPropagation(),o(t=>t.map(t=>t.id===e?{...t,isBookmarked:!t.isBookmarked}:t));let s=n.find(t=>t.id===e);r({id:Date.now().toString(),type:"success",message:"Insight ".concat((null==s?void 0:s.isBookmarked)?"removed from":"added to"," bookmarks"),timestamp:new Date().toISOString(),read:!1})},handleShare=(e,t)=>{t.stopPropagation();let s="".concat(e.title,": ").concat(e.description);navigator.share?navigator.share({title:e.title,text:s}):(navigator.clipboard.writeText(s),r({id:Date.now().toString(),type:"success",message:"Insight copied to clipboard",timestamp:new Date().toISOString(),read:!1}))};return s&&0===n.length?(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(ui_LoadingSpinner,{size:"lg"})})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,a.jsx)(q.Z,{className:"h-5 w-5 mr-2"}),"AI Insights"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.length," insights • Powered by ML models"]})]}),(0,a.jsxs)("button",{onClick:handleRefresh,disabled:j,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)(X.Z,{className:"h-4 w-4 ".concat(j?"animate-spin":"")}),(0,a.jsx)("span",{children:j?"Refreshing...":"Refresh"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"prediction",children:"Predictions"}),(0,a.jsx)("option",{value:"analysis",children:"Analysis"}),(0,a.jsx)("option",{value:"recommendation",children:"Recommendations"}),(0,a.jsx)("option",{value:"alert",children:"Alerts"}),(0,a.jsx)("option",{value:"trend",children:"Trends"})]}),(0,a.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,a.jsx)("option",{value:"all",children:"All Impact"}),(0,a.jsx)("option",{value:"high",children:"High Impact"}),(0,a.jsx)("option",{value:"medium",children:"Medium Impact"}),(0,a.jsx)("option",{value:"low",children:"Low Impact"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,a.jsx)("option",{value:"timestamp",children:"Latest"}),(0,a.jsx)("option",{value:"confidence",children:"Confidence"}),(0,a.jsx)("option",{value:"impact",children:"Impact"})]})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-gray-300 dark:hover:border-gray-600 transition-colors cursor-pointer",onClick:()=>w(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[getInsightIcon(e.type),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:e.description})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(getImpactColor(e.impact)),children:e.impact})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(K.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:(0,y.SY)(e.timestamp)})]}),(0,a.jsxs)("span",{children:["Confidence: ",(0,a.jsxs)("span",{className:getConfidenceColor(e.confidence),children:[Math.round(100*e.confidence),"%"]})]}),(0,a.jsx)("span",{children:e.timeframe}),(0,a.jsx)("span",{children:e.source})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,a.jsx)(b.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.views||0})]}),(0,a.jsx)("button",{onClick:t=>handleBookmark(e.id,t),className:"transition-colors ".concat(e.isBookmarked?"text-primary-500 hover:text-primary-600":"text-gray-500 hover:text-primary-500"),children:e.isBookmarked?(0,a.jsx)(et.Z,{className:"h-3 w-3"}):(0,a.jsx)($.Z,{className:"h-3 w-3"})}),(0,a.jsx)("button",{onClick:t=>handleShare(e,t),className:"text-gray-500 hover:text-primary-500 transition-colors",children:(0,a.jsx)(ee.Z,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full",children:e},e)),e.tags.length>3&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:["+",e.tags.length-3," more"]})]}),e.data&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded text-xs",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[e.data.currentPrice&&(0,a.jsxs)("span",{children:["Current: ",(0,y.xG)(e.data.currentPrice)]}),e.data.targetPrice&&(0,a.jsxs)("span",{children:["Target: ",(0,y.xG)(e.data.targetPrice)]}),e.data.priceChange&&(0,a.jsxs)("span",{className:e.data.priceChange>0?"text-green-600":"text-red-600",children:["Change: ",(0,y.rl)(e.data.priceChange/100)]}),e.data.probability&&(0,a.jsxs)("span",{children:["Probability: ",Math.round(100*e.data.probability),"%"]}),e.data.riskLevel&&(0,a.jsxs)("span",{className:"capitalize ".concat("high"===e.data.riskLevel?"text-red-600":"medium"===e.data.riskLevel?"text-yellow-600":"text-green-600"),children:["Risk: ",e.data.riskLevel]})]})})]},e.id))}),0===c.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(q.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"all"!==d||"all"!==g?"No insights found matching your criteria.":"No AI insights available. Try selecting some assets or models."})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[getInsightIcon(f.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(getImpactColor(f.impact)),children:[f.impact," impact"]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:f.type})]})]})]}),(0,a.jsx)("button",{onClick:()=>w(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"\xd7"})]}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:f.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,a.jsxs)("span",{className:"ml-2 font-semibold ".concat(getConfidenceColor(f.confidence)),children:[Math.round(100*f.confidence),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Timeframe:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:f.timeframe})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Source:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:f.source})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Generated:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:(0,y.SY)(f.timestamp)})]})]}),f.data&&Object.keys(f.data).length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Data Points"}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[f.data.currentPrice&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Current Price:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold",children:(0,y.xG)(f.data.currentPrice)})]}),f.data.targetPrice&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Target Price:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold",children:(0,y.xG)(f.data.targetPrice)})]}),f.data.priceChange&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Expected Change:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold ".concat(f.data.priceChange>0?"text-green-600":"text-red-600"),children:(0,y.rl)(f.data.priceChange/100)})]}),f.data.probability&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Probability:"}),(0,a.jsxs)("span",{className:"ml-2 font-semibold",children:[Math.round(100*f.data.probability),"%"]})]}),f.data.riskLevel&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Risk Level:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold capitalize ".concat("high"===f.data.riskLevel?"text-red-600":"medium"===f.data.riskLevel?"text-yellow-600":"text-green-600"),children:f.data.riskLevel})]})]})})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:f.tags.map(e=>(0,a.jsx)("span",{className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full",children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[f.views||0," views"]})]}),(0,a.jsxs)("span",{children:["Related: ",f.relatedAssets.join(", ")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:e=>handleBookmark(f.id,e),className:"p-2 rounded-lg transition-colors ".concat(f.isBookmarked?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:f.isBookmarked?(0,a.jsx)(et.Z,{className:"h-5 w-5"}):(0,a.jsx)($.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:e=>handleShare(f,e),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:(0,a.jsx)(ee.Z,{className:"h-5 w-5"})})]})]})]})})})]})},es=s(7461),ea=s(6582),ei=s(1735),er=s(4584),en=s(787),eo=s(1221),ec=s(498),el=s(8294),ed=s(7038),em=s(8799),eg=s(3352),ex=s(1095),eh=s(5290),components_TechnicalsInterface=e=>{let{selectedAssetType:t,onIndicatorToggle:s,enabledIndicators:r,onAssetTypeChange:n}=e,[o,c]=(0,i.useState)(t),[l,d]=(0,i.useState)(""),[m,g]=(0,i.useState)("all"),[x,h]=(0,i.useState)(null),u=[{id:"stock_to_flow",name:"Stock-to-Flow (S2F)",category:"Fundamental",description:"Scarcity-based valuation model measuring the ratio of existing supply to new production",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:er.Z,parameters:{halvingCycle:4,modelType:"bitcoin"}},{id:"metcalfes_law",name:"Metcalfe's Law",category:"Network",description:"Network value proportional to the square of connected users",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:en.Z,parameters:{networkMetric:"active_addresses"}},{id:"nvt_ratio",name:"NVT Ratio",category:"Valuation",description:"Network Value to Transactions ratio - crypto PE ratio equivalent",assetTypes:["crypto"],complexity:"intermediate",enabled:!1,icon:eo.Z,parameters:{period:30,smoothing:!0}},{id:"nvm_ratio",name:"NVM Ratio",category:"Valuation",description:"Network Value to Metcalfe ratio for network efficiency analysis",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:ec.Z},{id:"crypto_quant_metrics",name:"Crypto Quant Metrics",category:"On-Chain",description:"Advanced on-chain metrics including MVRV, SOPR, and exchange flows",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:el.Z,parameters:{metrics:["mvrv","sopr","exchange_flow"]}},{id:"log_regression",name:"Logarithmic Regression",category:"Technical",description:"Long-term price channel analysis using logarithmic regression bands",assetTypes:["crypto"],complexity:"intermediate",enabled:!1,icon:ed.Z,parameters:{degree:2,bands:2}},{id:"finbert_crypto",name:"FinBERT/CryptoBERT",category:"Sentiment",description:"AI-powered sentiment analysis using specialized BERT models",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:k.Z,parameters:{model:"cryptobert",sources:["twitter","reddit","news"]}},{id:"onchain_ml",name:"On-chain ML Models",category:"Machine Learning",description:"Machine learning models trained on blockchain data",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:q.Z,parameters:{model_type:"ensemble",features:"all"}},{id:"gnn_analysis",name:"Graph Neural Networks",category:"Network Analysis",description:"GNN-based analysis of blockchain transaction networks",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:en.Z},{id:"crypto_rl",name:"Reinforcement Learning",category:"AI Trading",description:"RL agents trained on crypto market dynamics",assetTypes:["crypto"],complexity:"advanced",enabled:!1,icon:em.Z,parameters:{agent:"ppo",environment:"crypto_trading"}},{id:"dcf_model",name:"Discounted Cash Flow (DCF)",category:"Fundamental",description:"Intrinsic value calculation based on projected cash flows",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:eg.Z,parameters:{growth_rate:.05,discount_rate:.1,terminal_growth:.02}},{id:"ddm_model",name:"Dividend Discount Model (DDM)",category:"Fundamental",description:"Valuation based on present value of expected dividends",assetTypes:["stock"],complexity:"intermediate",enabled:!1,icon:ex.Z,parameters:{growth_rate:.03,required_return:.08}},{id:"capm_analysis",name:"CAPM Analysis",category:"Risk",description:"Capital Asset Pricing Model for risk-adjusted returns",assetTypes:["stock"],complexity:"intermediate",enabled:!1,icon:er.Z,parameters:{risk_free_rate:.02,period:252}},{id:"fama_french",name:"Fama-French Model",category:"Factor Analysis",description:"Three-factor model including size and value factors",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:v.Z,parameters:{factors:["market","size","value"]}},{id:"gordon_growth",name:"Gordon Growth Model",category:"Valuation",description:"Dividend growth model for mature companies",assetTypes:["stock"],complexity:"basic",enabled:!1,icon:ed.Z},{id:"arima_stock",name:"ARIMA Model",category:"Time Series",description:"Autoregressive Integrated Moving Average for price forecasting",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:K.Z,parameters:{order:[1,1,1],seasonal:!1}},{id:"garch_stock",name:"GARCH Model",category:"Volatility",description:"Generalized Autoregressive Conditional Heteroskedasticity",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:ed.Z,parameters:{p:1,q:1}},{id:"var_model",name:"VAR Model",category:"Multivariate",description:"Vector Autoregression for multiple time series analysis",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:v.Z},{id:"kalman_filter",name:"Kalman Filters",category:"State Space",description:"Dynamic state estimation for trend and noise separation",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:el.Z},{id:"lstm_stock",name:"LSTM Networks",category:"Deep Learning",description:"Long Short-Term Memory networks for sequence prediction",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:k.Z,parameters:{lookback:60,layers:2,units:50}},{id:"xgboost_stock",name:"XGBoost",category:"Machine Learning",description:"Gradient boosting for feature-based price prediction",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:q.Z,parameters:{n_estimators:100,max_depth:6}},{id:"bayesian_nn",name:"Bayesian Neural Networks",category:"Probabilistic ML",description:"Uncertainty-aware neural networks for risk assessment",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:Y.Z},{id:"automl_stock",name:"AutoML",category:"Automated ML",description:"Automated machine learning model selection and tuning",assetTypes:["stock"],complexity:"advanced",enabled:!1,icon:em.Z},{id:"ppp_model",name:"Purchasing Power Parity (PPP)",category:"Fundamental",description:"Exchange rate theory based on price level differences",assetTypes:["forex"],complexity:"intermediate",enabled:!1,icon:er.Z,parameters:{base_inflation:.02,quote_inflation:.025}},{id:"irp_model",name:"Interest Rate Parity (IRP)",category:"Arbitrage",description:"No-arbitrage condition relating interest rates and exchange rates",assetTypes:["forex"],complexity:"intermediate",enabled:!1,icon:eg.Z},{id:"uip_model",name:"Uncovered Interest Parity (UIP)",category:"Expectation",description:"Exchange rate expectations based on interest rate differentials",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:ed.Z},{id:"balance_payments",name:"Balance of Payments",category:"Macroeconomic",description:"Current account and capital flow analysis",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:ec.Z},{id:"monetary_models",name:"Monetary Models",category:"Central Bank",description:"Exchange rate models based on monetary policy",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:eg.Z},{id:"forex_garch",name:"GARCH/EGARCH",category:"Volatility",description:"Volatility modeling for forex pairs",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:ed.Z},{id:"forex_rl",name:"RL Agents",category:"AI Trading",description:"Reinforcement learning for forex trading strategies",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:em.Z},{id:"forexbert",name:"ForexBERT Sentiment",category:"Sentiment",description:"Specialized BERT model for forex sentiment analysis",assetTypes:["forex"],complexity:"advanced",enabled:!1,icon:k.Z},{id:"cost_of_carry",name:"Cost-of-Carry Model",category:"Pricing",description:"Theoretical futures pricing based on storage and financing costs",assetTypes:["futures"],complexity:"intermediate",enabled:!1,icon:eo.Z,parameters:{risk_free_rate:.02,storage_cost:.01}},{id:"convenience_yield",name:"Convenience Yield",category:"Storage",description:"Benefit of holding physical commodity vs futures",assetTypes:["futures"],complexity:"advanced",enabled:!1,icon:eg.Z},{id:"samuelson_effect",name:"Samuelson Effect",category:"Maturity",description:"Volatility increase as futures approach expiration",assetTypes:["futures"],complexity:"intermediate",enabled:!1,icon:K.Z},{id:"backwardation_contango",name:"Backwardation/Contango",category:"Term Structure",description:"Analysis of futures curve shape and market conditions",assetTypes:["futures"],complexity:"intermediate",enabled:!1,icon:ed.Z},{id:"futures_var",name:"VAR Models",category:"Risk",description:"Value at Risk calculation for futures positions",assetTypes:["futures"],complexity:"advanced",enabled:!1,icon:er.Z},{id:"seasonal_arima",name:"Seasonal ARIMA",category:"Seasonality",description:"Time series modeling with seasonal patterns",assetTypes:["futures"],complexity:"advanced",enabled:!1,icon:K.Z},{id:"momentum_mean_reversion",name:"Momentum + Mean Reversion",category:"Strategy",description:"Combined momentum and mean reversion signals",assetTypes:["futures"],complexity:"intermediate",enabled:!1,icon:ed.Z},{id:"futures_rl",name:"RL (PPO, SAC, DDPG)",category:"AI Trading",description:"Advanced RL algorithms for futures trading",assetTypes:["futures"],complexity:"advanced",enabled:!1,icon:em.Z,parameters:{algorithm:"ppo",environment:"futures_trading"}},{id:"macro_factors",name:"Macroeconomic Factors",category:"Fundamental",description:"GDP, inflation, employment impact on index performance",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:ec.Z},{id:"apt_model",name:"Arbitrage Pricing Theory",category:"Factor Model",description:"Multi-factor model for asset pricing",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:er.Z},{id:"term_structure",name:"Term Structure Models",category:"Interest Rates",description:"Yield curve analysis and bond pricing models",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:ed.Z},{id:"cointegration_vecm",name:"Cointegration & VECM",category:"Econometric",description:"Long-run equilibrium relationships between series",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:v.Z},{id:"transformers_index",name:"Transformers",category:"Deep Learning",description:"Attention-based models for sequence prediction",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:k.Z},{id:"random_forest",name:"Random Forest",category:"Ensemble",description:"Tree-based ensemble learning for classification/regression",assetTypes:["index"],complexity:"intermediate",enabled:!1,icon:q.Z},{id:"sentiment_news",name:"Sentiment & News Analysis",category:"Alternative Data",description:"News sentiment impact on index movements",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:Y.Z},{id:"hybrid_models",name:"Hybrid Models (ARIMA-LSTM)",category:"Combined",description:"Combination of statistical and ML approaches",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:el.Z},{id:"elliott_fibonacci",name:"Elliott Wave & Fibonacci",category:"Technical",description:"Wave pattern analysis with Fibonacci retracements",assetTypes:["index"],complexity:"intermediate",enabled:!1,icon:ed.Z},{id:"markowitz_factor",name:"Markowitz & Factor Investing",category:"Portfolio",description:"Modern portfolio theory with factor tilts",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:ec.Z},{id:"volatility_regime",name:"Volatility Regime Switching",category:"Regime",description:"Hidden Markov models for volatility regimes",assetTypes:["index"],complexity:"advanced",enabled:!1,icon:ed.Z},{id:"cross_arima",name:"ARIMA/SARIMA",category:"Time Series",description:"Cross-asset time series analysis",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:K.Z},{id:"cross_garch",name:"GARCH Models",category:"Volatility",description:"Cross-asset volatility modeling",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:ed.Z},{id:"cross_lstm",name:"LSTM/GRU",category:"Deep Learning",description:"Recurrent neural networks for all asset classes",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:k.Z},{id:"cross_transformer",name:"Transformer Models",category:"Attention",description:"Attention-based models for cross-asset analysis",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:q.Z},{id:"cross_xgboost",name:"XGBoost/LightGBM",category:"Gradient Boosting",description:"Advanced gradient boosting for all assets",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:em.Z},{id:"cross_svm",name:"Support Vector Machines",category:"Classification",description:"SVM for pattern recognition across assets",assetTypes:["crypto","stock","forex","futures","index"],complexity:"intermediate",enabled:!1,icon:el.Z},{id:"cross_rsi_macd",name:"RSI/MACD/Ichimoku",category:"Technical",description:"Classic technical indicators for all assets",assetTypes:["crypto","stock","forex","futures","index"],complexity:"basic",enabled:!1,icon:v.Z},{id:"cross_rl",name:"RL (PPO, SAC, DDPG)",category:"Reinforcement Learning",description:"Multi-asset reinforcement learning agents",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:em.Z},{id:"markowitz_mpt",name:"Markowitz MPT",category:"Portfolio",description:"Modern Portfolio Theory optimization",assetTypes:["crypto","stock","forex","futures","index"],complexity:"intermediate",enabled:!1,icon:ec.Z},{id:"monte_carlo",name:"Monte Carlo",category:"Simulation",description:"Monte Carlo simulation for risk assessment",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:eo.Z},{id:"multi_bert",name:"Multi-BERT Models",category:"NLP",description:"FinBERT, CryptoBERT, ForexBERT ensemble",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:k.Z},{id:"hmm_bayesian",name:"HMM & Bayesian Change Point",category:"State Space",description:"Hidden Markov Models and change point detection",assetTypes:["crypto","stock","forex","futures","index"],complexity:"advanced",enabled:!1,icon:Y.Z}],p=u.filter(e=>{let t=e.assetTypes.includes(o),s=e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase())||e.category.toLowerCase().includes(l.toLowerCase()),a="all"===m||e.complexity===m;return t&&s&&a}),y=p.reduce((e,t)=>{let s=t.category;return e[s]||(e[s]=[]),e[s].push(t),e},{}),handleIndicatorToggle=e=>{let t=r.includes(e.id);s(e.id,!t,e.parameters)},getComplexityColor=e=>{switch(e){case"basic":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w={crypto:ex.Z,stock:ed.Z,forex:en.Z,futures:v.Z,index:ec.Z};return(0,i.useEffect)(()=>{c(t)},[t]),(0,a.jsxs)(A.Zb,{className:"w-full mb-6",children:[(0,a.jsxs)(A.Ol,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(A.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(el.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"Technical Indicators"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(C.C,{variant:"secondary",children:[p.length," indicators"]}),(0,a.jsxs)(C.C,{variant:"outline",children:[r.length," active"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-64",children:(0,a.jsx)(ea.I,{placeholder:"Search indicators...",value:l,onChange:e=>d(e.target.value),className:"w-full"})}),(0,a.jsxs)(ei.Ph,{value:m,onValueChange:g,children:[(0,a.jsx)(ei.i4,{className:"w-40",children:(0,a.jsx)(ei.ki,{placeholder:"Complexity"})}),(0,a.jsxs)(ei.Bw,{children:[(0,a.jsx)(ei.Ql,{value:"all",children:"All Levels"}),(0,a.jsx)(ei.Ql,{value:"basic",children:"Basic"}),(0,a.jsx)(ei.Ql,{value:"intermediate",children:"Intermediate"}),(0,a.jsx)(ei.Ql,{value:"advanced",children:"Advanced"})]})]})]})]}),(0,a.jsx)(A.aY,{children:(0,a.jsxs)(es.mQ,{value:o,onValueChange:e=>{c(e),n(e)},children:[(0,a.jsx)(es.dr,{className:"grid w-full grid-cols-5",children:Object.entries(w).map(e=>{let[t,s]=e;return(0,a.jsxs)(es.SP,{value:t,className:"flex items-center space-x-2",children:[(0,a.jsx)(s,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"capitalize",children:t})]},t)})}),Object.keys(w).map(e=>(0,a.jsx)(es.nU,{value:e,className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[Object.entries(y).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:t}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>{let t=e.icon,s=r.includes(e.id),i=x===e.id;return(0,a.jsxs)("div",{className:"p-4 border rounded-lg transition-all duration-200 hover:shadow-md ".concat(s?"border-blue-300 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-700":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(t,{className:"h-5 w-5 ".concat(s?"text-blue-600 dark:text-blue-400":"text-gray-500")}),(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(C.C,{variant:"secondary",className:"text-xs ".concat(getComplexityColor(e.complexity)),children:e.complexity}),(0,a.jsx)(S.z,{variant:"ghost",size:"sm",onClick:()=>h(i?null:e.id),className:"h-6 w-6 p-0",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:e.description}),i&&e.parameters&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs",children:[(0,a.jsx)("strong",{children:"Parameters:"}),(0,a.jsx)("pre",{className:"mt-1 text-xs",children:JSON.stringify(e.parameters,null,2)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(S.z,{variant:s?"default":"outline",size:"sm",onClick:()=>handleIndicatorToggle(e),className:"flex items-center space-x-1",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Disable"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Enable"})]})}),s&&(0,a.jsx)(S.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(eh.Z,{className:"h-4 w-4"})})]})]},e.id)})})]},t)}),0===Object.keys(y).length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(el.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No indicators found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search terms or complexity filter."})]})]})},e))]})})]})};function HubPage(){let[e,t]=(0,i.useState)("AAPL"),[s,r]=(0,i.useState)("1D");return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-900 text-white",children:[(0,a.jsxs)("div",{className:"w-80 bg-gray-800 border-r border-gray-700 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"The Hub"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Your Trading Command Center"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)(components_Watchlist,{})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Timeframe:"}),(0,a.jsx)("select",{value:s,onChange:e=>r(e.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-1 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{label:"1m",value:"1m"},{label:"5m",value:"5m"},{label:"10m",value:"10m"},{label:"15m",value:"15m"},{label:"30m",value:"30m"},{label:"1h",value:"1h"},{label:"2h",value:"2h"},{label:"6h",value:"6h"},{label:"12h",value:"12h"},{label:"1D",value:"1D"},{label:"1W",value:"1W"},{label:"1M",value:"1M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:"5Y",value:"5Y"},{label:"All",value:"All"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(components_TechnicalsInterface,{selectedAssetType:"crypto",onIndicatorToggle:(e,t)=>{},enabledIndicators:[],onAssetTypeChange:()=>{}})})]})}),(0,a.jsx)("div",{className:"flex-1 bg-gray-900 p-4",children:(0,a.jsx)("div",{className:"h-full bg-gray-800 rounded-lg border border-gray-700",children:(0,a.jsx)(components_TradingChart,{})})}),(0,a.jsx)("div",{className:"h-64 bg-gray-800 border-t border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"h-full bg-gray-900 rounded-lg border border-gray-700 p-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold mb-3 text-white",children:"AI Market Insights"}),(0,a.jsx)(components_AIInsights,{})]})})]}),(0,a.jsx)(FloatingAIAssistant,{})]})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=7609)}),_N_E=e.O()}]);